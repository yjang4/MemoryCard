{"ast":null,"code":"import _regeneratorRuntime from\"/home/daniel/repos/Projects/MemoryCard/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/daniel/repos/Projects/MemoryCard/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"/home/daniel/repos/Projects/MemoryCard/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/daniel/repos/Projects/MemoryCard/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{findByDisplayValue}from\"@testing-library/react\";import React,{useState,useEffect}from\"react\";import'./CardDisplay.css';import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";function CardDisplay(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),images=_useState2[0],setImg=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),savedCards=_useState4[0],setSavedCards=_useState4[1];var _useState5=useState(1),_useState6=_slicedToArray(_useState5,2),level=_useState6[0],setLevel=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),score=_useState8[0],setScore=_useState8[1];var _useState9=useState(0),_useState10=_slicedToArray(_useState9,2),re=_useState10[0],setRe=_useState10[1];var displays=[];var difficulty=1;var startingCards=2;var imageContainer=document.getElementById(\"image-container\");function randomUniqueNum(range,outputCount){var arr=[];for(var i=1;i<=range;i++){arr.push(i);}var result=[];for(var _i=1;_i<=outputCount;_i++){var random=Math.floor(Math.random()*(range-_i));result.push(arr[random]);arr[random]=arr[range-_i];}return result;}/*   function restartGame() {\n        //setImg([])\n        \n        //setRe(1);\n        //setSavedCards([]);\n    } */function checkIfCardInMemory(id){if(savedCards.includes(id)){//emptyDiv(imageContainer);\nimageContainer.textContent=\"Game Over\";/* const tryAgainBtn = document.createElement(\"button\");\n            tryAgainBtn.textContent = \"Try again\";\n            imageContainer.appendChild(tryAgainBtn)\n            tryAgainBtn.addEventListener(\"click\", restartGame); */return true;}else{setScore(score+1);return false;}}function emptyDiv(targetDiv){if(targetDiv!=null){while(targetDiv.firstChild){//targetDiv.removeChild(targetDiv.firstChild);\n}}}function checkLevelUp(){if(savedCards.length>=level*difficulty+startingCards){setSavedCards([]);setLevel(level+1);setImg([]);}}function shuffle(id){if(!checkIfCardInMemory(id)){setSavedCards(function(savedCards){return[].concat(_toConsumableArray(savedCards),[id]);});var container=document.getElementById(\"image-container\");var elementsArray=Array.prototype.slice.call(container.getElementsByClassName('pokemon-image'));elementsArray.forEach(function(element){container.removeChild(element);});shuffleArray(elementsArray);elementsArray.forEach(function(element){container.appendChild(element);});}}function shuffleArray(array){for(var i=array.length-1;i>0;i--){var j=Math.floor(Math.random()*(i+1));var temp=array[i];array[i]=array[j];array[j]=temp;}return array;}/* function displayPokemonCards(numOfCards) {\n        const rando = randomUniqueNum(cards.length, numOfCards);\n\n        for (let i = 0; i < numOfCards; i++) {\n            displays.push(<img src={cards[rando[i]-1]}></img>);\n\n        }\n    } */ //displayPokemonCards(5);\nuseEffect(function(){function getData(){return _getData.apply(this,arguments);}function _getData(){_getData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response,pokeData,urlArray,randArray,i,newUrl,response2,pokeData2;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return fetch('https://pokeapi.co/api/v2/pokemon?limit=1000',{mode:'cors'});case 2:response=_context.sent;_context.next=5;return response.json();case 5:pokeData=_context.sent;urlArray=[];randArray=randomUniqueNum(pokeData.results.length,level*difficulty+startingCards);emptyDiv(imageContainer);i=0;case 10:if(!(i<randArray.length)){_context.next=22;break;}newUrl=pokeData.results[randArray[i]-1].url;_context.next=14;return fetch(newUrl,{mode:'cors'});case 14:response2=_context.sent;_context.next=17;return response2.json();case 17:pokeData2=_context.sent;urlArray.push(pokeData2.sprites.front_default);case 19:i++;_context.next=10;break;case 22:setImg(function(images){return[].concat(_toConsumableArray(images),urlArray);});case 23:case\"end\":return _context.stop();}},_callee);}));return _getData.apply(this,arguments);}getData();},[level]);return/*#__PURE__*/_jsxs(\"div\",{children:[checkLevelUp(),/*#__PURE__*/_jsxs(\"div\",{id:\"score-board\",children:[/*#__PURE__*/_jsxs(\"div\",{id:\"level\",children:[\"Level: \",level]}),/*#__PURE__*/_jsxs(\"div\",{id:\"score\",children:[\"Score: \",score]})]}),/*#__PURE__*/_jsx(\"div\",{id:\"image-container\",children:images.map(function(image,index){return/*#__PURE__*/_jsx(\"div\",{id:index,className:\"pokemon-image\",children:/*#__PURE__*/_jsx(\"img\",{style:{animation:'fadeIn 0.5s'},onClick:function onClick(){return shuffle(index);},src:image})});})})]});}export default CardDisplay;","map":{"version":3,"names":["findByDisplayValue","React","useState","useEffect","jsxs","_jsxs","jsx","_jsx","CardDisplay","_useState","_useState2","_slicedToArray","images","setImg","_useState3","_useState4","savedCards","setSavedCards","_useState5","_useState6","level","setLevel","_useState7","_useState8","score","setScore","_useState9","_useState10","re","setRe","displays","difficulty","startingCards","imageContainer","document","getElementById","randomUniqueNum","range","outputCount","arr","i","push","result","random","Math","floor","checkIfCardInMemory","id","includes","textContent","emptyDiv","targetDiv","firstChild","checkLevelUp","length","shuffle","concat","_toConsumableArray","container","elementsArray","Array","prototype","slice","call","getElementsByClassName","forEach","element","removeChild","shuffleArray","appendChild","array","j","temp","getData","_getData","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","pokeData","urlArray","randArray","newUrl","response2","pokeData2","wrap","_callee$","_context","prev","next","fetch","mode","sent","json","results","url","sprites","front_default","stop","children","map","image","index","className","style","animation","onClick","src"],"sources":["/home/daniel/repos/Projects/MemoryCard/src/components/CardDisplay.js"],"sourcesContent":["import { findByDisplayValue } from \"@testing-library/react\";\nimport React, { useState, useEffect } from \"react\";\nimport './CardDisplay.css';\n\nfunction CardDisplay() {\n    \n    const [images, setImg] = useState([]);\n    const [savedCards, setSavedCards] = useState([]);\n    const [level, setLevel] = useState(1);\n    const [score, setScore] = useState(0);\n    const [re, setRe] = useState(0);\n    const displays = [];\n    const difficulty = 1;\n    const startingCards = 2;\n    const imageContainer = document.getElementById(\"image-container\");\n\n    function randomUniqueNum(range, outputCount) {\n        let arr = []\n        for (let i = 1; i <= range; i++) {\n          arr.push(i)\n        }\n      \n        let result = [];\n        \n        for (let i = 1; i <= outputCount; i++) {\n          const random = Math.floor(Math.random() * (range - i));\n          result.push(arr[random]);\n          arr[random] = arr[range - i];\n        }\n      \n        return result;\n    }\n  /*   function restartGame() {\n        //setImg([])\n        \n        //setRe(1);\n        //setSavedCards([]);\n    } */\n    function checkIfCardInMemory(id) {\n        if(savedCards.includes(id)) {\n            //emptyDiv(imageContainer);\n            imageContainer.textContent = \"Game Over\";\n\n            /* const tryAgainBtn = document.createElement(\"button\");\n            tryAgainBtn.textContent = \"Try again\";\n            imageContainer.appendChild(tryAgainBtn)\n            tryAgainBtn.addEventListener(\"click\", restartGame); */\n            return true;\n        }\n        else {\n            setScore(score + 1)\n            return false;\n        }\n    }\n    function emptyDiv(targetDiv) {\n        if(targetDiv != null) {\n            while (targetDiv.firstChild) {\n                //targetDiv.removeChild(targetDiv.firstChild);\n            }\n        }\n        \n    }\n    function checkLevelUp() {\n        if(savedCards.length >= level * difficulty + startingCards) {\n            setSavedCards([]);\n            setLevel(level + 1)\n            setImg([])\n        }\n    }\n    function shuffle(id) {\n        if(!checkIfCardInMemory(id)) {\n            setSavedCards(savedCards => ([...savedCards, id]));\n            var container = document.getElementById(\"image-container\");\n            var elementsArray = Array.prototype.slice.call(container.getElementsByClassName('pokemon-image'));\n            elementsArray.forEach(function(element){\n            container.removeChild(element);\n            })\n            shuffleArray(elementsArray);\n            elementsArray.forEach(function(element){\n            container.appendChild(element);\n            })\n        }\n        \n    }\n    function shuffleArray(array) {\n        for (var i = array.length - 1; i > 0; i--) {\n            var j = Math.floor(Math.random() * (i + 1));\n            var temp = array[i];\n            array[i] = array[j];\n            array[j] = temp;\n        }\n        return array;\n    }\n    /* function displayPokemonCards(numOfCards) {\n        const rando = randomUniqueNum(cards.length, numOfCards);\n\n        for (let i = 0; i < numOfCards; i++) {\n            displays.push(<img src={cards[rando[i]-1]}></img>);\n\n        }\n    } */\n    //displayPokemonCards(5);\n    useEffect(() => {\n        async function getData() {\n          const response = await fetch('https://pokeapi.co/api/v2/pokemon?limit=1000', {mode: 'cors'})\n          const pokeData = await response.json();\n          const urlArray = [];\n          const randArray = randomUniqueNum(pokeData.results.length, level * difficulty + startingCards)\n          emptyDiv(imageContainer)\n          for (let i = 0; i < randArray.length; i ++) {\n            const newUrl = pokeData.results[randArray[i]-1].url;\n            const response2 = await fetch(newUrl, {mode: 'cors'});\n            const pokeData2 = await response2.json();\n            urlArray.push(pokeData2.sprites.front_default);\n          } \n          setImg(images => ([...images, ...urlArray]));\n        }\n        getData()\n        \n      }, [level]);\n    \n    return (\n        <div> \n        {checkLevelUp()}\n            <div id=\"score-board\">\n                <div id=\"level\">\n                    Level: {level}\n                </div>\n                <div id=\"score\">\n                    Score: {score}\n                </div>\n            </div>\n            <div id=\"image-container\">\n                {images.map((image, index) => {\n                    return <div id={index} className =\"pokemon-image\">\n                        <img style={{animation:'fadeIn 0.5s'}} onClick={() => shuffle(index)}  src={image}></img>\n                        </div>;\n                  })}\n            </div>\n\n\n        </div>\n      );\n}\nexport default CardDisplay;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}